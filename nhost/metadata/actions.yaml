actions:
  - name: sendMessage
    definition:
      kind: synchronous
      handler: "{{NHOST_FUNCTIONS_URL}}/sendMessage"
      forward_client_headers: true
    permissions:
      - role: user
    type: mutation
    arguments:
      - name: chat_id
        type: uuid!
      - name: message
        type: String!
    output_type: SendMessageResponse

custom_types:
  enums: []
  input_objects: []
  objects:
    - name: SendMessageResponse
      description: "Response from sendMessage action"
      fields:
        - name: success
          type: Boolean!
          description: "Whether the message was sent successfully"
        - name: data
          type: String
          description: "Response data from the webhook (JSON string)"
        - name: error
          type: String
          description: "Error message if something went wrong"
  scalars: []
